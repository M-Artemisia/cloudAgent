Add_User:
POST /v3/users

HEADER: X-Auth-Token

REQUEST:
{
"user": {
"default_project_id": "...",
"description": "...",
"domain_id": "--optional--",
"email": "...",
"enabled": "...",
"name": "...",
"password": "--optional--"
}
}

Normal response codes: 201
Error response codes: 
      identityFault (400, 500, ...), 
      badRequest (400), 
      unauthorized (401),
      forbidden (403), 
      badMethod (405), 
      overLimit (413), 
      serviceUnavailable (503), 
      itemNot-Found (404)
======================================================
List_User

GET /v3/users{?domain_id,name,enabled, Lists users.page,per_page}

HEADER: X-Auth-Token

======================================================
Delete_User:

DELETE /v3/users/{user_id}
HEADER: X-Auth-Token

Normal response codes: 204
Error response codes: 
      identityFault (400, 500, ...), 
      badRequest (400), 
      unauthorized (401),
      forbidden (403), 
      badMethod (405), 
      overLimit (413), 
      serviceUnavailable (503), 
      itemNot-Found (404)

*************************************************************
***************************************************
*************************************
Add_Project:
POST /v3/projects

HEADER: X-Auth-Token

REQUEST:
{
"project": {
"description": "...",
"domain_id": "...",
"enabled": "...",
"name": "..."
}
}


Normal response codes: 201
Error response codes: 
      identityFault (400, 500, ...), 
      badRequest (400), 
      unauthorized (401),
      forbidden (40)


===================================================================
List_Projects:
GET /v3/projects{?domain_id,name,en-abled,page,per_page}

HEADER: X-Auth-Token

Normal response codes: 200
Error response codes: 
      identityFault (400, 500, ...), 
      badRequest (400), 
      unauthorized (401),
      forbidden (403), 
      badMethod (405), 
      overLimit (413), 
      serviceUnavailable (503), 
      itemNot-Found (404)

===============================================================
Delete_Project:
DELETE /v3/projects/{project_id}

HEADER: X-Auth-Token

Normal response codes: 204
Error response codes: 
      identityFault (400, 500, ...), 
      badRequest (400), 
      unauthorized (401),
      forbidden (403), 
      badMethod (405), 
      overLimit (413), 
      serviceUnavailable (503), 
      itemNot-Found (404)

Delete Project
curl -i -H 'X-AUTH-Token: 5a9725c12c374d6aa86ed83996d12b13' 10.1.48.242:5000/v3/projects -H "Accept: application/json"

List_Projects:
curl -i -X DELETE -H 'X-AUTH-Token: 5a9725c12c374d6aa86ed83996d12b13' 10.1.48.242:5000/v3/projects/73644534cea406b8708f243172fc8af -H "Accept: application/json"

================================================================
Update Quota:

quota_set": {
        "cores": 20,
        "fixed_ips": -1,
        "floating_ips": 10,
        "id": "2a33ec55d00f4e8186108a6c2415e13c",
        "injected_file_content_bytes": 10240,
        "injected_file_path_bytes": 255,
        "injected_files": 5,
        "instances": 10,
        "key_pairs": 100,
        "metadata_items": 128,
        "ram": 51200,
        "security_group_rules": 20,
        "security_groups": 10
    }


curl -v -H "X-Auth-Token: my_token" -X PUT http://10.1.48.25:8774/v2/0684505d61f74c9daee8a12246c40617/os-quota-sets/2a33ec55d00f4e8186108a6c2415e13c -d '{"quota_set":{"cores":"25", "instances":"15"}}' -H "Content-Type: application/json" -H "Accept: application/json"   | python -m json.tool

============================================
LIST_Quota

curl -v -H "X-Auth-Token: my_token" GET http://10.1.48.25:8774/v2/0684505d61f74c9daee8a12246c40617/os-quota-sets/2a33ec55d00f4e8186108a6c2415e13c | python -m json.tool



================================================

v3/projects/​<project_id>​/users/​<user_id>​/roles/​<role_id>

prj id:  34cf722076b347ff920304a79c1d2f26
user id: b7a7ab9f11a84fb39a13a6fb23ed59c1; 14cf205c51c34236948fe77f0a400718
role id: 9074eaece6f748b4b5b38cc2534fed3a


v3/projects/34cf722076b347ff920304a79c1d2f26/users/14cf205c51c34236948fe77f0a400718/roles/9074eaece6f748b4b5b38cc2534fed3a

v3/projects/34cf722076b347ff920304a79c1d2f26/users/b7a7ab9f11a84fb39a13a6fb23ed59c1/roles/9074eaece6f748b4b5b38cc2534fed3a



v3/roles


{"links": {"self": "http://10.1.48.25:5000/v3/roles", "previous": null, "next": null}, "roles": [{"id": "9074eaece6f748b4b5b38cc2534fed3a", "links": {"self": "http://10.1.48.25:5000/v3/roles/9074eaece6f748b4b5b38cc2534fed3a"}, "name": "admin"}, {"links": {"self": "http://10.1.48.25:5000/v3/roles/9fe2ff9ee4384b1894a90878d3e92bab"}, "enabled": "True", "description": "Default role for project membership", "name": "_member_", "id": "9fe2ff9ee4384b1894a90878d3e92bab"}]}


===============================================================================

 10.1.48.25:5000/v3/domains/default/users/cdc4d8c29cf6419783b5fb9f2251b82a/roles


============================================================================================
LIST_IMAGES:
curl -v -i -H 'X-AUTH-Token: a3e36a1f0ec44e9988d8550ce71291db'  http://10.1.48.242:9292/v2/images 


*******************************************
UPLOAD IMAGE:

binary image data. (Since Image API v2.0.)
An image record must exist before a client can store binary image data with it.

PUT	/v2/images/{image_id}/file

HEADER: X-Auth-Token, Content-Type: application/octet-stream
Normal response codes: 204
Error response codes: ...

Example call:  
	curl -i -X PUT -H "X-Auth-Token: $token" -H "Con-tent-Type: application/octet-stream" -d @/home/glance/ubuntu-12.10.qcow2 
	$image_url/v2/images/{image_id}/file

curl -X PUT -H 'X-AUTH-Token: 2c20ec76c5ba4444b8be11b51dfb52fb'  http://10.1.48.242:9292/v2/images/f7e63ab1-775a-4f70-846b-5887f59bcef9/file -v -H "Content-Type: application/octet-stream" -d @/home/xamin/demo


*******************************************
DOWNLOAD IMAGE:

binary image data. (Since Image API v2.0.)
An image record must exist before a client can store binary image data with it.

GET	/v2/images/{image_id}/file

HEADER: X-Auth-Token, Content-Type: application/octet-stream
Normal response codes: 200, 204(Mo such image)
Error response codes: ...
Example call: 
	curl -i -X GET -H "X-Auth-Token: $token" $image_url/v2/images/{image_id}/file

***************************************************************

CREATE_IMAGE_RECORD

POST /v2/images

HEADER: X-Auth-Token, Location(Contains the newly-created URI for the image)

Normal response codes: 201
Error response codes:  ....
EXAMPLE:
	curl -X POST -H 'X-AUTH-Token: 2c20ec76c5ba4444b8be11b51dfb52fb'  http://10.1.48.242:9292/v1/images -v -i 
v2: return image detail

REQUEST:
{
"id": "e7db3b45-8db7-47ad-8109-3fb55c2c24fd",
"name": "Ubuntu 12.10",
"tags": [
"ubuntu",
"quantal"
]
}


curl -X POST -H 'X-AUTH-Token: 2c20ec76c5ba4444b8be11b51dfb52fb'  http://10.1.48.242:9292/v1/images -v -i
Properties disk_format, container_format 
==============================
UPDATE_IMAGE:

 curl -X PUT -H 'X-AUTH-Token: 2c20ec76c5ba4444b8be11b51dfb52fb'  http://10.1.48.242:9292/v1/images/f7e63ab1-775a-4f70-846b-5887f59bcef9 -v -i 




Barresi:
curl -X PATCH -H 'X-AUTH-Token: 2c20ec76c5ba4444b8be11b51dfb52fb'  http://10.1.48.242:9292/v2/images/f7e63ab1-775a-4f70-846b-5887f59bcef9 -H "application/openstack-images-v2.1-json-patch" -d '[{"op": "add", "path": "/disk_format", "value": "qcow2"}, {"op": "add", "path": "/container_format", "value": "bare"}]'

curl -X PATCH -H 'X-AUTH-Token: fb5b1e792a274d718843db8cb3642c97'  http://10.1.48.242:9292/v1/images/f7e63ab1-775a-4f70-846b-5887f59bcef9 -H "application/json" -d '[{"op": "add", "path": "/name", "value": "salam"}]' 



GOOD REF: https://github.com/bcwaldon/images-api-v2/blob/master/spec.md

CREATE_IMAGE:

curl -X POST  http://10.1.48.242:9292/v2/images \
-H 'X-AUTH-Token: becc46f0e9144ec289b9b8f41ac61d5f'  \
-H "Content-Type: application/json" \
-d '{"id":"demo1dsaaddfsd","name":"asemani"}'
'{"name":"asemani4", "disk_format":"qcow2", "container":"bare"}'

UPDATE_IMAGE_DATA:

curl -X PATCH  http://10.1.48.242:9292/v2/images/ec2c0e43-148d-4dd0-813e-bb356040e6cf \
-H 'X-AUTH-Token: becc46f0e9144ec289b9b8f41ac61d5f' \
-H "content-type: application/openstack-images-v2.0-json-patch" \
-d '[{"replace": "/name", "value": "Fedora 17"}]'

[ { "remove": "/login-name" } ] 
[ { "add": "/login-name", "value": "kvothe"} ] 
[ { "replace":"/login-name", "value": "kote" } ] 


UPLOAD_IMAGE:
curl -X PUT http://10.1.48.242:9292/v2/images/f7e63ab1-775a-4f70-846b-5887f59bcef9/file \
-H 'X-AUTH-Token: becc46f0e9144ec289b9b8f41ac61d5f'  \
-H "Content-Type: application/octet-stream" \
-d '@/home/xamin/demo' 



One Command To Create & Upload
 curl -X POST http://10.1.48.242:9292/v1/images -H 'X-AUTH-Token: b9260e7d0ca54654a9d90f9b43fafe35'  -H 'x-glance-api-copy-from: http://release.xamin.ir/appliances/0ad48498473444f1122c8e9883333ae6.xvm2' -H 'x-image-meta-name: demo5' -H 'x-image-meta-'

x-image-meta-uri              http://glance.example.com/v1/images/71c675ab-d94f-49cd-a114-e12490b328d9
x-image-meta-name             Ubuntu 10.04 Plain 5GB
x-image-meta-disk_format      vhd
x-image-meta-container_format ovf
x-image-meta-size             5368709120
x-image-meta-checksum         c2e5db72bd7fd153f53ede5da5a06de3
x-image-meta-created_at       2010-02-03 09:34:01
x-image-meta-updated_at       2010-02-03 09:34:01
x-image-meta-deleted_at
x-image-meta-status           available
x-image-meta-is_public        true
x-image-meta-min_ram          256
x-image-meta-min_disk         0
x-image-meta-owner            null
x-image-meta-property-distro  Ubuntu 10.04 LTS



container_format: It is for formats that contains some metadata about image, with the image like those r for AWS, OVF and.....
		  can contain xvm2, too. it is not implemented for other formats. we can implement it for xvm2, too